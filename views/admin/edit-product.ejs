<%- include('../partials/header') %>

<main class="main-content">
    <div class="container">
        <h1 class="page-title">Edit Product</h1>
        
        <div class="form-container">
            <form action="/admin/products/edit/<%= product.id %>" method="POST" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="name">Product Name *</label>
                    <input type="text" id="name" name="name" value="<%= product.name %>" required>
                </div>
                
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" name="description" rows="4"><%= product.description || '' %></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="price">Price (â‚¦) *</label>
                        <input type="number" id="price" name="price" value="<%= product.price %>" step="0.01" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="stockQuantity">Stock Quantity *</label>
                        <input type="number" id="stockQuantity" name="stockQuantity" value="<%= product.stock_quantity %>" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="hairType">Hair Type *</label>
                        <select id="hairType" name="hairType" required>
                            <option value="Brazilian" <%= product.hair_type === 'Brazilian' ? 'selected' : '' %>>Brazilian</option>
                            <option value="Peruvian" <%= product.hair_type === 'Peruvian' ? 'selected' : '' %>>Peruvian</option>
                            <option value="Malaysian" <%= product.hair_type === 'Malaysian' ? 'selected' : '' %>>Malaysian</option>
                            <option value="Indian" <%= product.hair_type === 'Indian' ? 'selected' : '' %>>Indian</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="length">Length *</label>
                        <input type="text" id="length" name="length" value="<%= product.length %>" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="texture">Texture *</label>
                        <select id="texture" name="texture" required>
                            <option value="Straight" <%= product.texture === 'Straight' ? 'selected' : '' %>>Straight</option>
                            <option value="Body Wave" <%= product.texture === 'Body Wave' ? 'selected' : '' %>>Body Wave</option>
                            <option value="Deep Wave" <%= product.texture === 'Deep Wave' ? 'selected' : '' %>>Deep Wave</option>
                            <option value="Curly" <%= product.texture === 'Curly' ? 'selected' : '' %>>Curly</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="color">Color *</label>
                        <input type="text" id="color" name="color" value="<%= product.color %>" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Current Image</label>
                    <img src="<%= product.image_url %>" alt="<%= product.name %>" style="max-width: 200px; display: block; margin: 10px 0;" onerror="this.src='/uploads/placeholder.jpg'">
                </div>
                
                <div class="form-group">
                    <label for="image">Change Image (optional)</label>
                    <input type="file" id="image" name="image" accept="image/*">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Update Product</button>
                    <a href="/admin/products" class="btn btn-secondary">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</main>

<%- include('../partials/footer') %>